/*       *      Copyright 2009 (c) Scott Penberthy, scottpenberthy.com. All Rights Reserved. *       *      This software is distributed under commercial and open source licenses. *      You may use the GPL open source license described below or you may acquire  *      a commercial license from scottpenberthy.com. You agree to be fully bound  *      by the terms of either license. Consult the LICENSE.TXT distributed with  *      this software for full details. *       *      This software is open source; you can redistribute it and/or modify it  *      under the terms of the GNU General Public License as published by the  *      Free Software Foundation; either version 2 of the License, or (at your  *      option) any later version. See the GNU General Public License for more  *      details at: http://scottpenberthy.com/legal/gplLicense.html *       *      This program is distributed WITHOUT ANY WARRANTY; without even the  *      implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  *       *      This GPL license does NOT permit incorporating this software into  *      proprietary programs. If you are unable to comply with the GPL, you must *      acquire a commercial license to use this software. Commercial licenses  *      for this software and support services are available by contacting *      scott.penberthy@gmail.com. * */package com.jsp.graphics{	import flash.display.Graphics;	import flash.display.Sprite;		public class Chart extends Sprite	{		private var _label:Text;		private var _numbers:Array;		private var _line:Path;		private var _w:Number;		private var _h:Number;		private static var SIZE:Number = 64;		private var _name:String;				public function Chart(name:String = null, width:Number=400, height:Number=100)		{			_w = width;			_h = height;			_name = name;			init();		}				public function set title(title:String):void {			_name = title;		}				public function clear():void {			_line.clear();		}				private function init():void {			_label = new Text({text: '', width: _w, align: Text.ALIGN_CENTER});			_numbers = new Array();			_line = new Path(256,_w,_h);			_line.y = 20;			_line.x = 4;			addChild(_line);			addChild(_label);			drawAxes();		}				private function drawAxes():void {			var g:Graphics = this.graphics;			g.lineStyle(0,0xccccff);			g.moveTo(0,20);			g.lineTo(0,20+_h);			g.lineTo(_w+4,20+_h);		}				public function track(n:Number):void {			var len:Number = _numbers.length;			if (len >= SIZE) {				_numbers.shift();			}			_numbers.push(n);		}				public function plot(numbers:Array = null):void {			if (numbers) {			 _line.plot(numbers);			}			else {			 _line.plot(_numbers);			}			_label.text = (_name ? _name+': ' : '') + _line.toString();		}			}}